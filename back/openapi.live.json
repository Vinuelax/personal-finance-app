{"openapi":"3.1.0","info":{"title":"Ledger Backend","version":"0.1.0"},"paths":{"/api/v1/health":{"get":{"tags":["system"],"summary":"Health check","operationId":"health_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth"],"summary":"Log in","description":"Authenticate a user and return a bearer token.","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/signup":{"post":{"tags":["auth"],"summary":"Sign up","description":"Create a new user account and return a bearer token.","operationId":"signup_api_v1_auth_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/categories":{"get":{"tags":["categories"],"summary":"List categories","description":"List all categories for the authenticated user.","operationId":"api_list_categories_api_v1_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Category"},"type":"array","title":"Response Api List Categories Api V1 Categories Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["categories"],"summary":"Create category","description":"Create a new spending category.","operationId":"api_create_category_api_v1_categories_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/categories/{category_id}":{"patch":{"tags":["categories"],"summary":"Update category","description":"Update an existing category.","operationId":"api_update_category_api_v1_categories__category_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"string","title":"Category Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["categories"],"summary":"Delete category","description":"Delete a category.","operationId":"api_delete_category_api_v1_categories__category_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"string","title":"Category Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets":{"get":{"tags":["budgets"],"summary":"List budgets","description":"List monthly budgets for the authenticated user, optionally filtered by month.","operationId":"api_list_budgets_api_v1_budgets_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"month","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Month"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Budget"},"title":"Response Api List Budgets Api V1 Budgets Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["budgets"],"summary":"Create budget","description":"Create a budget for a given month and category.","operationId":"api_create_budget_api_v1_budgets_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Budget"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{month}/{category_id}":{"patch":{"tags":["budgets"],"summary":"Update budget","description":"Update budget limit or rollover flag.","operationId":"api_update_budget_api_v1_budgets__month___category_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"month","in":"path","required":true,"schema":{"type":"string","title":"Month"}},{"name":"category_id","in":"path","required":true,"schema":{"type":"string","title":"Category Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Budget"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["budgets"],"summary":"Upsert budget","description":"Create or update a budget for a given month/category.","operationId":"api_upsert_budget_api_v1_budgets__month___category_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"month","in":"path","required":true,"schema":{"type":"string","title":"Month"}},{"name":"category_id","in":"path","required":true,"schema":{"type":"string","title":"Category Id"}},{"name":"applyFuture","in":"query","required":false,"schema":{"type":"boolean","description":"When true, update current and all future budget entries for this category","default":false,"title":"Applyfuture"},"description":"When true, update current and all future budget entries for this category"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Budget"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["budgets"],"summary":"Delete budget","description":"Delete a budget entry.","operationId":"api_delete_budget_api_v1_budgets__month___category_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"month","in":"path","required":true,"schema":{"type":"string","title":"Month"}},{"name":"category_id","in":"path","required":true,"schema":{"type":"string","title":"Category Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/scope":{"delete":{"tags":["budgets"],"summary":"Delete budgets by scope","description":"Delete this month, from this month onwards, or all budget entries for a category.","operationId":"api_delete_budgets_scoped_api_v1_budgets_scope_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"categoryId","in":"query","required":true,"schema":{"type":"string","description":"Category id","title":"Categoryid"},"description":"Category id"},{"name":"scope","in":"query","required":true,"schema":{"type":"string","pattern":"^(this_month|from_month|all)$","title":"Scope"}},{"name":"month","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Required for this_month/from_month scopes","title":"Month"},"description":"Required for this_month/from_month scopes"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{month}/copy-from/{source_month}":{"post":{"tags":["budgets"],"summary":"Copy budgets from another month","description":"Clone all budgets from source_month into month if they don't already exist.","operationId":"api_copy_budgets_api_v1_budgets__month__copy_from__source_month__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"month","in":"path","required":true,"schema":{"type":"string","title":"Month"}},{"name":"source_month","in":"path","required":true,"schema":{"type":"string","title":"Source Month"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Budget"},"title":"Response Api Copy Budgets Api V1 Budgets  Month  Copy From  Source Month  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring":{"get":{"tags":["recurring"],"summary":"List recurring rules","description":"Return recurring rules (subscriptions/bills) for the authenticated user.","operationId":"api_list_recurring_api_v1_recurring_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RecurringRule"},"type":"array","title":"Response Api List Recurring Api V1 Recurring Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["recurring"],"summary":"Create recurring rule","description":"Create a recurring bill or income rule.","operationId":"api_create_recurring_api_v1_recurring_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringRuleIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/recurring/{rule_id}":{"patch":{"tags":["recurring"],"summary":"Update recurring rule","description":"Update fields on a recurring rule.","operationId":"api_update_recurring_api_v1_recurring__rule_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","title":"Rule Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringRulePatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring/{rule_id}/pause":{"post":{"tags":["recurring"],"summary":"Pause recurring rule","description":"Pause a recurring rule to stop future postings.","operationId":"api_pause_recurring_api_v1_recurring__rule_id__pause_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringToggle"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring/{rule_id}/resume":{"post":{"tags":["recurring"],"summary":"Resume recurring rule","description":"Resume a paused recurring rule.","operationId":"api_resume_recurring_api_v1_recurring__rule_id__resume_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringToggle"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring/{rule_id}/stop":{"post":{"tags":["recurring"],"summary":"Stop recurring rule","description":"Stop a recurring rule and set its end date to today.","operationId":"api_stop_recurring_api_v1_recurring__rule_id__stop_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringToggle"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bills":{"get":{"tags":["bills"],"summary":"List bills","description":"List bill instances for the authenticated user, optionally filtered by date range or status.","operationId":"api_list_bills_api_v1_bills_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date To"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BillOut"},"title":"Response Api List Bills Api V1 Bills Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bills/{bill_id}":{"patch":{"tags":["bills"],"summary":"Update bill","description":"Update bill amount or status.","operationId":"api_update_bill_api_v1_bills__bill_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bill_id","in":"path","required":true,"schema":{"type":"string","title":"Bill Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions":{"get":{"tags":["transactions"],"summary":"List transactions","description":"Returns transactions for the authenticated user filtered by optional date range, category, uncategorized flag, or limit.","operationId":"api_list_transactions_api_v1_transactions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date To"}},{"name":"category_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category Id"}},{"name":"uncategorized","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Uncategorized"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransactionOut"},"title":"Response Api List Transactions Api V1 Transactions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["transactions"],"summary":"Create transaction","description":"Create a manual transaction for the authenticated user.","operationId":"api_create_transaction_api_v1_transactions_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/{txn_id}":{"get":{"tags":["transactions"],"summary":"Get transaction","description":"Fetch a single transaction by ID and date.","operationId":"api_get_transaction_api_v1_transactions__txn_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"txn_id","in":"path","required":true,"schema":{"type":"string","title":"Txn Id"}},{"name":"date","in":"query","required":true,"schema":{"type":"string","title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["transactions"],"summary":"Update transaction","description":"Update mutable fields of a transaction.","operationId":"api_update_transaction_api_v1_transactions__txn_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"txn_id","in":"path","required":true,"schema":{"type":"string","title":"Txn Id"}},{"name":"date","in":"query","required":true,"schema":{"type":"string","title":"Date"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["transactions"],"summary":"Delete transaction","description":"Delete a transaction by ID and date.","operationId":"api_delete_transaction_api_v1_transactions__txn_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"txn_id","in":"path","required":true,"schema":{"type":"string","title":"Txn Id"}},{"name":"date","in":"query","required":true,"schema":{"type":"string","title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/import":{"post":{"tags":["transactions"],"summary":"Bulk import transactions from CSV/XLSX","description":"Upload a CSV or Excel file and create transactions for the authenticated user.","operationId":"api_import_transactions_api_v1_transactions_import_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_api_import_transactions_api_v1_transactions_import_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/transactions/calendar":{"get":{"tags":["transactions"],"summary":"Calendar summary for a month","description":"Returns per-day income/expense totals and transactions for the given month (YYYY-MM).","operationId":"api_calendar_summary_api_v1_transactions_calendar_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"month","in":"query","required":true,"schema":{"type":"string","title":"Month"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/receipts":{"get":{"tags":["receipts"],"summary":"List receipts","description":"List uploaded receipts for the authenticated user.","operationId":"api_list_receipts_api_v1_receipts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ReceiptOut"},"type":"array","title":"Response Api List Receipts Api V1 Receipts Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["receipts"],"summary":"Create receipt","description":"Upload or create a receipt record.","operationId":"api_create_receipt_api_v1_receipts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiptIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiptOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/receipts/upload":{"post":{"tags":["receipts"],"summary":"Upload receipt image","description":"Accept an image file, store it, and create a receipt in 'uploading' status. OCR is not implemented yet.","operationId":"api_upload_receipt_api_v1_receipts_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_api_upload_receipt_api_v1_receipts_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiptOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/receipts/{receipt_id}":{"patch":{"tags":["receipts"],"summary":"Update receipt","description":"Update receipt fields or link to a transaction.","operationId":"api_update_receipt_api_v1_receipts__receipt_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"receipt_id","in":"path","required":true,"schema":{"type":"string","title":"Receipt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiptPatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiptOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["receipts"],"summary":"Delete receipt","description":"Remove a receipt and its stored image reference.","operationId":"api_delete_receipt_api_v1_receipts__receipt_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"receipt_id","in":"path","required":true,"schema":{"type":"string","title":"Receipt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/objectives":{"get":{"tags":["objectives"],"summary":"List objectives","operationId":"api_list_objectives_api_v1_objectives_get","security":[{"HTTPBearer":[]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ObjectiveOut"},"title":"Response Api List Objectives Api V1 Objectives Get"}}}}}},"post":{"tags":["objectives"],"summary":"Create objective","operationId":"api_create_objective_api_v1_objectives_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"force","in":"query","required":false,"schema":{"type":"boolean","description":"Replace conflicting budgets","default":false,"title":"Force"},"description":"Replace conflicting budgets"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObjectiveIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObjectiveOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/objectives/{objective_id}":{"patch":{"tags":["objectives"],"summary":"Update objective","operationId":"api_update_objective_api_v1_objectives__objective_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"objective_id","in":"path","required":true,"schema":{"type":"string","title":"Objective Id"}},{"name":"force","in":"query","required":false,"schema":{"type":"boolean","description":"Replace conflicting budgets","default":false,"title":"Force"},"description":"Replace conflicting budgets"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObjectiveUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObjectiveOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["objectives"],"summary":"Archive objective","operationId":"api_archive_objective_api_v1_objectives__objective_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"objective_id","in":"path","required":true,"schema":{"type":"string","title":"Objective Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/objectives/{objective_id}/complete":{"post":{"tags":["objectives"],"summary":"Complete objective","operationId":"api_complete_objective_api_v1_objectives__objective_id__complete_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"objective_id","in":"path","required":true,"schema":{"type":"string","title":"Objective Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObjectiveOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/user/me":{"get":{"tags":["user"],"summary":"Get current user","operationId":"get_me_api_v1_user_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]},"patch":{"tags":["user"],"summary":"Update current user","operationId":"update_me_api_v1_user_me_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"AuthRequest":{"properties":{"email":{"type":"string","title":"Email","description":"User email (case-insensitive)"},"password":{"type":"string","title":"Password","description":"Plain-text password for login or signup"}},"type":"object","required":["email","password"],"title":"AuthRequest","example":{"email":"user@example.com","password":"s3cretpass"}},"BillOut":{"properties":{"billId":{"type":"string","title":"Billid","description":"Bill instance identifier"},"ruleId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ruleid","description":"Origin recurring rule ID, if any"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Bill name"},"dueDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Duedate","description":"Due date YYYY-MM-DD"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount","description":"Amount in minor units (negative for payables)"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"ISO currency code"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Category ID"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"Bill status"},"linkedTxnId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linkedtxnid","description":"Linked transaction ID"},"createdAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Createdat","description":"Creation timestamp (ISO8601)"},"updatedAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updatedat","description":"Last update timestamp (ISO8601)"}},"type":"object","required":["billId"],"title":"BillOut","example":{"amount":-85000,"billId":"bill_0007","categoryId":"cat_utilities","createdAt":"2026-01-20T00:00:00Z","currency":"CLP","dueDate":"2026-03-10","name":"Utilities","ruleId":"rec_util","status":"PROJECTED","updatedAt":"2026-01-20T00:00:00Z"}},"BillUpdate":{"properties":{"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"New status (e.g. PROJECTED, DUE, PAID)"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount","description":"Updated amount in minor units"}},"type":"object","title":"BillUpdate","example":{"amount":-85000,"status":"PAID"}},"Body_api_import_transactions_api_v1_transactions_import_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_api_import_transactions_api_v1_transactions_import_post"},"Body_api_upload_receipt_api_v1_receipts_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_api_upload_receipt_api_v1_receipts_upload_post"},"Budget":{"properties":{"month":{"type":"string","title":"Month","description":"Month in YYYY-MM format"},"categoryId":{"type":"string","title":"Categoryid","description":"Category this budget applies to"},"limit":{"type":"integer","title":"Limit","description":"Spending limit in minor units"},"rollover":{"type":"boolean","title":"Rollover","description":"Whether leftover budget rolls over","default":false},"rolloverTargetCategoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rollovertargetcategoryid","description":"Category to receive surplus if rollover is enabled"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Currency code, defaults to user's currency"},"purpose":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Purpose","description":"Optional purpose/label for this budget"},"carryForwardEnabled":{"type":"boolean","title":"Carryforwardenabled","description":"Whether this budget can be used as fallback for future months","default":true},"isTerminal":{"type":"boolean","title":"Isterminal","description":"Whether this budget is the last month for this entry","default":false},"objectiveId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Objectiveid","description":"Owning objective id, if generated by objectives"}},"type":"object","required":["month","categoryId","limit"],"title":"Budget","example":{"carryForwardEnabled":true,"categoryId":"cat_groceries","currency":"USD","isTerminal":false,"limit":250000,"month":"2026-02","purpose":"Ski trip installment","rollover":false,"rolloverTargetCategoryId":"cat_savings"}},"BudgetIn":{"properties":{"month":{"type":"string","title":"Month","description":"Month in YYYY-MM format"},"categoryId":{"type":"string","title":"Categoryid","description":"Category this budget applies to"},"limit":{"type":"integer","title":"Limit","description":"Spending limit in minor units"},"rollover":{"type":"boolean","title":"Rollover","description":"Whether leftover budget rolls over","default":false},"rolloverTargetCategoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rollovertargetcategoryid","description":"Category to receive surplus if rollover is enabled"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Currency code, defaults to user's currency"},"purpose":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Purpose","description":"Optional purpose/label for this budget"},"carryForwardEnabled":{"type":"boolean","title":"Carryforwardenabled","description":"Whether this budget can be used as fallback for future months","default":true},"isTerminal":{"type":"boolean","title":"Isterminal","description":"Whether this budget is the last month for this entry","default":false},"objectiveId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Objectiveid","description":"Owning objective id, if generated by objectives"}},"type":"object","required":["month","categoryId","limit"],"title":"BudgetIn","example":{"carryForwardEnabled":true,"categoryId":"cat_groceries","currency":"USD","isTerminal":false,"limit":250000,"month":"2026-02","purpose":"Ski trip installment","rollover":false,"rolloverTargetCategoryId":"cat_savings"}},"BudgetUpdate":{"properties":{"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit","description":"Updated spending limit"},"rollover":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Rollover","description":"Updated rollover flag"},"rolloverTargetCategoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rollovertargetcategoryid","description":"Category to receive surplus if rollover is enabled"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Currency code override"},"purpose":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Purpose","description":"Optional purpose/label for this budget"},"carryForwardEnabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Carryforwardenabled","description":"Whether this budget can be used as fallback for future months"},"isTerminal":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Isterminal","description":"Whether this budget is a terminal month"},"objectiveId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Objectiveid","description":"Owning objective id, if generated by objectives"}},"type":"object","title":"BudgetUpdate","example":{"carryForwardEnabled":false,"currency":"USD","isTerminal":true,"limit":275000,"objectiveId":"obj_trip","purpose":"Ski trip installment","rollover":true,"rolloverTargetCategoryId":"cat_savings"}},"Category":{"properties":{"name":{"type":"string","title":"Name","description":"Display name of the category"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Grouping label, e.g. Needs/Wants/Invest"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon","description":"Icon slug used by the frontend"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color","description":"Color token used by the frontend"},"categoryId":{"type":"string","title":"Categoryid","description":"Category identifier"}},"type":"object","required":["name","categoryId"],"title":"Category","example":{"color":"green","group":"Needs","icon":"basket","name":"Groceries"}},"CategoryIn":{"properties":{"name":{"type":"string","title":"Name","description":"Display name of the category"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Grouping label, e.g. Needs/Wants/Invest"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon","description":"Icon slug used by the frontend"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color","description":"Color token used by the frontend"}},"type":"object","required":["name"],"title":"CategoryIn","example":{"color":"green","group":"Needs","icon":"basket","name":"Groceries"}},"CategoryUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Display name of the category"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Grouping label, e.g. Needs/Wants/Invest"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon","description":"Icon slug used by the frontend"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color","description":"Color token used by the frontend"}},"type":"object","title":"CategoryUpdate","example":{"icon":"basket","name":"Groceries"}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ObjectiveIn":{"properties":{"name":{"type":"string","title":"Name","description":"Objective name"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Existing category id; if omitted, backend creates/reuses by name"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Objective currency"},"totalAmount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Totalamount","description":"Optional total amount for the objective in minor units"},"plans":{"items":{"$ref":"#/components/schemas/ObjectivePlanIn"},"type":"array","title":"Plans","description":"Monthly objective plan"}},"type":"object","required":["name"],"title":"ObjectiveIn","example":{"currency":"CLP","name":"Trip to Patagonia","plans":[{"amount":700000,"isLastMonth":false,"kind":"SPEND","month":"2025-12"},{"amount":300000,"isLastMonth":false,"kind":"SPEND","month":"2026-01"},{"amount":250000,"isLastMonth":false,"kind":"SPEND","month":"2026-02"}]}},"ObjectiveOut":{"properties":{"objectiveId":{"type":"string","title":"Objectiveid"},"name":{"type":"string","title":"Name"},"categoryId":{"type":"string","title":"Categoryid"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"totalAmount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Totalamount"},"status":{"type":"string","title":"Status"},"plans":{"items":{"$ref":"#/components/schemas/ObjectivePlan"},"type":"array","title":"Plans"},"createdAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Createdat"},"updatedAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updatedat"}},"type":"object","required":["objectiveId","name","categoryId","status"],"title":"ObjectiveOut"},"ObjectivePlan":{"properties":{"month":{"type":"string","title":"Month","description":"Month in YYYY-MM format"},"amount":{"type":"integer","title":"Amount","description":"Planned amount in minor units"},"kind":{"type":"string","title":"Kind","description":"SPEND or SAVE","default":"SPEND"},"isLastMonth":{"type":"boolean","title":"Islastmonth","description":"Reserved flag; currently ignored for objective-generated budgets","default":false}},"type":"object","required":["month","amount"],"title":"ObjectivePlan"},"ObjectivePlanIn":{"properties":{"month":{"type":"string","title":"Month","description":"Month in YYYY-MM format"},"amount":{"type":"integer","title":"Amount","description":"Planned amount in minor units"},"kind":{"type":"string","title":"Kind","description":"SPEND or SAVE","default":"SPEND"},"isLastMonth":{"type":"boolean","title":"Islastmonth","description":"Reserved flag; currently ignored for objective-generated budgets","default":false}},"type":"object","required":["month","amount"],"title":"ObjectivePlanIn"},"ObjectiveUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"totalAmount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Totalamount"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"plans":{"anyOf":[{"items":{"$ref":"#/components/schemas/ObjectivePlanIn"},"type":"array"},{"type":"null"}],"title":"Plans"}},"type":"object","title":"ObjectiveUpdate"},"ReceiptIn":{"properties":{"merchant":{"type":"string","title":"Merchant","description":"Merchant or store name"},"date":{"type":"string","title":"Date","description":"Receipt date YYYY-MM-DD"},"total":{"type":"integer","title":"Total","description":"Total amount in minor units"},"status":{"type":"string","title":"Status","description":"Processing status","default":"uploading"},"imageUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imageurl","description":"Public or presigned URL of the uploaded image"},"lineItems":{"anyOf":[{"items":{"$ref":"#/components/schemas/ReceiptLineItem"},"type":"array"},{"type":"null"}],"title":"Lineitems","description":"Line items parsed from OCR"},"transactionId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transactionid","description":"Linked transaction ID"}},"type":"object","required":["merchant","date","total"],"title":"ReceiptIn","example":{"date":"2026-02-05","imageUrl":"https://s3.example.com/receipts/rcpt_ab12cd34.jpg","lineItems":[{"amount":3200,"categoryId":"cat_coffee","description":"Coffee","id":"li_1"}],"merchant":"Starbucks","status":"uploading","total":6200,"transactionId":"txn_000123"}},"ReceiptLineItem":{"properties":{"id":{"type":"string","title":"Id","description":"Line item id"},"description":{"type":"string","title":"Description","description":"Line item description"},"amount":{"type":"integer","title":"Amount","description":"Amount in minor units"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Category id or null if unassigned"}},"type":"object","required":["id","description","amount"],"title":"ReceiptLineItem"},"ReceiptOut":{"properties":{"merchant":{"type":"string","title":"Merchant","description":"Merchant or store name"},"date":{"type":"string","title":"Date","description":"Receipt date YYYY-MM-DD"},"total":{"type":"integer","title":"Total","description":"Total amount in minor units"},"status":{"type":"string","title":"Status","description":"Processing status","default":"uploading"},"imageUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imageurl","description":"Public or presigned URL of the uploaded image"},"lineItems":{"anyOf":[{"items":{"$ref":"#/components/schemas/ReceiptLineItem"},"type":"array"},{"type":"null"}],"title":"Lineitems","description":"Line items parsed from OCR"},"transactionId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transactionid","description":"Linked transaction ID"},"receiptId":{"type":"string","title":"Receiptid","description":"Receipt identifier"},"createdAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Createdat","description":"Creation timestamp (ISO8601)"},"updatedAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updatedat","description":"Last update timestamp (ISO8601)"}},"type":"object","required":["merchant","date","total","receiptId"],"title":"ReceiptOut","example":{"createdAt":"2026-02-05T15:00:00Z","date":"2026-02-05","merchant":"Starbucks","receiptId":"rcpt_ab12cd34","status":"processed","total":6200,"transactionId":"txn_000123","updatedAt":"2026-02-05T15:05:00Z"}},"ReceiptPatch":{"properties":{"merchant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Merchant","description":"Updated merchant name"},"date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date","description":"Updated date YYYY-MM-DD"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total","description":"Updated total"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"Updated status"},"imageUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imageurl","description":"Updated image URL"},"lineItems":{"anyOf":[{"items":{"$ref":"#/components/schemas/ReceiptLineItem"},"type":"array"},{"type":"null"}],"title":"Lineitems","description":"Updated line items"},"transactionId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transactionid","description":"Updated linked transaction"}},"type":"object","title":"ReceiptPatch","example":{"status":"processed","transactionId":"txn_000123"}},"RecurringRule":{"properties":{"name":{"type":"string","title":"Name","description":"Recurring item name"},"amount":{"type":"integer","title":"Amount","description":"Signed amount in minor units (negative for bills)"},"currency":{"type":"string","title":"Currency","description":"ISO currency code","default":"CLP"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Category to assign when posted"},"cadence":{"type":"string","pattern":"^(MONTHLY|WEEKLY)$","title":"Cadence","description":"Posting cadence"},"dayOfMonth":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dayofmonth","description":"Day of month for MONTHLY cadence"},"startDate":{"type":"string","title":"Startdate","description":"Start date YYYY-MM-DD"},"endDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Enddate","description":"Optional end date YYYY-MM-DD"},"autopostMode":{"type":"string","title":"Autopostmode","description":"Autopost behavior (e.g. PROJECT_ONLY)","default":"PROJECT_ONLY"},"isPaused":{"type":"boolean","title":"Ispaused","description":"Whether the rule is paused","default":false},"ruleId":{"type":"string","title":"Ruleid"},"createdAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Createdat"},"updatedAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updatedat"}},"type":"object","required":["name","amount","cadence","startDate","ruleId"],"title":"RecurringRule","example":{"amount":-25000,"autopostMode":"PROJECT_ONLY","cadence":"MONTHLY","categoryId":"cat_utilities","createdAt":"2025-01-01T00:00:00Z","currency":"CLP","dayOfMonth":15,"isPaused":false,"name":"Internet bill","ruleId":"rec_abcdef12","startDate":"2025-01-01","updatedAt":"2026-01-15T00:00:00Z"}},"RecurringRuleIn":{"properties":{"name":{"type":"string","title":"Name","description":"Recurring item name"},"amount":{"type":"integer","title":"Amount","description":"Signed amount in minor units (negative for bills)"},"currency":{"type":"string","title":"Currency","description":"ISO currency code","default":"CLP"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Category to assign when posted"},"cadence":{"type":"string","pattern":"^(MONTHLY|WEEKLY)$","title":"Cadence","description":"Posting cadence"},"dayOfMonth":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dayofmonth","description":"Day of month for MONTHLY cadence"},"startDate":{"type":"string","title":"Startdate","description":"Start date YYYY-MM-DD"},"endDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Enddate","description":"Optional end date YYYY-MM-DD"},"autopostMode":{"type":"string","title":"Autopostmode","description":"Autopost behavior (e.g. PROJECT_ONLY)","default":"PROJECT_ONLY"},"isPaused":{"type":"boolean","title":"Ispaused","description":"Whether the rule is paused","default":false}},"type":"object","required":["name","amount","cadence","startDate"],"title":"RecurringRuleIn","example":{"amount":-25000,"autopostMode":"PROJECT_ONLY","cadence":"MONTHLY","categoryId":"cat_utilities","currency":"CLP","dayOfMonth":15,"isPaused":false,"name":"Internet bill","startDate":"2025-01-01"}},"RecurringRulePatch":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Updated name"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount","description":"Updated amount"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Updated currency code"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Updated category"},"cadence":{"anyOf":[{"type":"string","pattern":"^(MONTHLY|WEEKLY)$"},{"type":"null"}],"title":"Cadence","description":"Updated cadence"},"dayOfMonth":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dayofmonth","description":"Updated day of month"},"startDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Startdate","description":"Updated start date"},"endDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Enddate","description":"Updated end date"},"autopostMode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Autopostmode","description":"Updated autopost behavior"},"isPaused":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Ispaused","description":"Pause/unpause the rule"}},"type":"object","title":"RecurringRulePatch","example":{"amount":-27000,"dayOfMonth":12,"isPaused":true}},"RecurringToggle":{"properties":{"ruleId":{"type":"string","title":"Ruleid"},"isPaused":{"type":"boolean","title":"Ispaused"},"endDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Enddate"},"updatedAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updatedat"}},"type":"object","required":["ruleId","isPaused"],"title":"RecurringToggle","example":{"isPaused":true,"ruleId":"rec_abcdef12","updatedAt":"2026-02-05T10:00:00Z"}},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"JWT access token"},"token_type":{"type":"string","title":"Token Type","description":"Token type (always 'bearer')","default":"bearer"}},"type":"object","required":["access_token"],"title":"TokenResponse","example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}},"TransactionIn":{"properties":{"date":{"type":"string","title":"Date","description":"Posting date in YYYY-MM-DD"},"merchant":{"type":"string","title":"Merchant","description":"Merchant or payee name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Free-form description","default":""},"amount":{"type":"integer","title":"Amount","description":"Signed amount in minor units (negative for expenses)"},"currency":{"type":"string","title":"Currency","description":"ISO currency code","default":"CLP"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Category ID, if already assigned"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"User notes","default":""},"source":{"type":"string","title":"Source","description":"Origin of the transaction, e.g. manual, bank_scrape","default":"manual"},"accountId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accountid","description":"Account identifier"},"receiptId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receiptid","description":"Linked receipt ID"},"splits":{"anyOf":[{"items":{"$ref":"#/components/schemas/TransactionSplit"},"type":"array"},{"type":"null"}],"title":"Splits","description":"Optional list of splits with amount, label, categoryId"}},"type":"object","required":["date","merchant","amount"],"title":"TransactionIn","example":{"accountId":"acc_bank_001","amount":-6200,"categoryId":"cat_coffee","currency":"CLP","date":"2026-02-05","description":"Latte and croissant","merchant":"Starbucks","notes":"Morning treat","source":"manual"}},"TransactionOut":{"properties":{"date":{"type":"string","title":"Date","description":"Posting date in YYYY-MM-DD"},"merchant":{"type":"string","title":"Merchant","description":"Merchant or payee name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Free-form description","default":""},"amount":{"type":"integer","title":"Amount","description":"Signed amount in minor units (negative for expenses)"},"currency":{"type":"string","title":"Currency","description":"ISO currency code","default":"CLP"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Category ID, if already assigned"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"User notes","default":""},"source":{"type":"string","title":"Source","description":"Origin of the transaction, e.g. manual, bank_scrape","default":"manual"},"accountId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accountid","description":"Account identifier"},"receiptId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receiptid","description":"Linked receipt ID"},"splits":{"anyOf":[{"items":{"$ref":"#/components/schemas/TransactionSplit"},"type":"array"},{"type":"null"}],"title":"Splits","description":"Optional list of splits with amount, label, categoryId"},"txnId":{"type":"string","title":"Txnid","description":"Transaction identifier"}},"type":"object","required":["date","merchant","amount","txnId"],"title":"TransactionOut","example":{"accountId":"acc_bank_001","amount":-6200,"categoryId":"cat_coffee","currency":"CLP","date":"2026-02-05","description":"Latte and croissant","merchant":"Starbucks","notes":"Morning treat","source":"manual","txnId":"txn_000123"}},"TransactionSplit":{"properties":{"id":{"type":"string","title":"Id"},"label":{"type":"string","title":"Label"},"amount":{"type":"integer","title":"Amount"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid"}},"type":"object","required":["id","label","amount"],"title":"TransactionSplit"},"TransactionUpdate":{"properties":{"merchant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Merchant","description":"Merchant or payee name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Free-form description"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount","description":"Signed amount in minor units"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"ISO currency code"},"categoryId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoryid","description":"Category ID"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"User notes"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source","description":"Origin of the transaction"},"accountId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accountid","description":"Account identifier"},"receiptId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receiptid","description":"Linked receipt ID"},"splits":{"anyOf":[{"items":{"$ref":"#/components/schemas/TransactionSplit"},"type":"array"},{"type":"null"}],"title":"Splits","description":"Optional list of splits to replace existing"}},"type":"object","title":"TransactionUpdate","example":{"categoryId":"cat_groceries","description":"Updated memo","notes":"Matched to weekly shop"}},"UpdateUserRequest":{"properties":{"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"ISO 4217 currency code (e.g. CLP, USD)"}},"type":"object","title":"UpdateUserRequest"},"UserResponse":{"properties":{"userId":{"type":"string","title":"Userid","description":"User id"},"email":{"type":"string","title":"Email","description":"User email"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"ISO 4217 currency code"}},"type":"object","required":["userId","email"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}